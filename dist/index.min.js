"use strict";var _arguments=arguments;window.onload=function(){var e=new Array,t=function(){var t=document.querySelector(".mini-game"),r=document.querySelector(".confirm-btn");r.addEventListener("click",function(){var r=document.querySelector(".boat-num");""!=r.value?isNaN(Number(r.value))?(t.classList.add("shake"),setTimeout(function(){t.classList.remove("shake")},500)):(t.classList.add("fadeOutLeft"),e.push(Number(r.value)),setTimeout(function(){document.body.removeChild(t);var e=document.querySelector(".container");e.style.display="block",e.classList.add("zoomInDown")},500)):(t.classList.add("rubberBand"),setTimeout(function(){t.classList.remove("rubberBand")},500))})};t();var r=function(){for(var e=document.querySelector(".table"),t=0;t<8;t++){e.innerHTML+="<tr></tr>";document.querySelector("tr")}Array.from(document.querySelectorAll("tr")).map(function(e){for(var t=0;t<15;t++)e.innerHTML+='<th class="animated" choose="false"></th>'})};r();var n=0,a=document.querySelector(".point"),o=Array.from(document.querySelectorAll("tbody tr th")),c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=["#7986cb","#64ffda","#90a4ae","#b3e5fc","#fff9c4","#9575cd"],a=Math.ceil(6*Math.random())-1;return[].concat(Array.prototype.slice.call(_arguments)).forEach(function(e){void 0!=e&&(e.style.backgroundColor=n[a],e.classList.add("jackInTheBox"),setTimeout(function(){e.classList.remove("jackInTheBox")},2e3))}),[].concat(Array.prototype.slice.call(_arguments))},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].concat(Array.prototype.slice.call(_arguments)).forEach(function(e){void 0!=e&&(e.style.backgroundColor="#f44336",e.classList.add("jackInTheBox"),setTimeout(function(){e.classList.remove("jackInTheBox")},500),setTimeout(function(){e.style.backgroundColor="#fff",e.classList.add("rollOut")},900))})},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(function(e){[].concat(Array.prototype.slice.call(_arguments)).forEach(function(e){void 0!=e&&(e.classList.add("rollOut"),e.style.backgroundColor="#fff",setTimeout(function(){e.classList.remove("rollOut")},500))})})},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;n+=t,a.classList.add("rubberBand"),a.innerHTML="Points:"+Number(n),setTimeout(function(){a.classList.remove("rubberBand")},600),void 0!=e[0]&&n>=e[0]&&setInterval(function(){var e=Math.ceil(120*Math.random())-1,t=Math.ceil(3*Math.random());1==t?s(o[e],o[e+16],o[e-16]):2==t?s(o[e],o[e+1],o[e-1]):3==t&&s(o[e]),n--,a.innerHTML="Points:"+Number(n),a.classList.add("rubberBand"),setTimeout(function(){a.classList.remove("rubberBand")},900)},1500)},l=0,d=0,f=0;o.forEach(function(e){return e.addEventListener("click",function(e){l++,e.currentTarget.id=Math.random(),e.currentTarget.setAttribute("choose",!0);var t=new Array;for(var r in b)void 0!=b[r]&&t.push(b[r].id);var n=t.filter(function(e){return""!=e});if(b.includes(e.currentTarget)?d=1==v?1:n.length<v?4:5:(console.log("没打中"),0==n.length&&(f++,d=-1)),l==v&&(d>=0?1==v?u(1):4==d?u(.5):5==d&&u(1):1==v?u(-1):l==v&&u(-1)),l>=v){b.forEach(function(e){i(e)});var a=m();v=a.randomLength,b=a.boatAll,l=0,d=0,f=0}})});var m=function(){var e=Math.ceil(120*Math.random())-1,t=Math.ceil(3*Math.random()),r=null,n=Math.ceil(4*Math.random());if(e>=16&&e<=28||e>=31&&e<=43||e>=46&&e<=58||e>=61&&e<=73||e>=76&&e<=88||e>=91&&e<=103)if(1==n)r=c(o[e]);else if(2==n)switch(t){case 1:r=c(o[e],o[e+1]);break;case 2:r=c(o[e],o[e+15]);break;case 3:r=c(o[e],o[e+16])}else 3==n?r=1==t||3==t?c(o[e],o[e+15],o[e-15]):c(o[e],o[e+16],o[e-16]):4==n&&(r=c(o[e],o[e+1],o[e+2],o[e+3]));else e>1&&e<15||e>106&&e<120?(n=3,r=c(o[e],o[e+1],o[e-1])):1==e?(n=4,r=c(o[e],o[e+16],o[e+32],o[e+48])):15==e?(n=4,r=c(o[e],o[e+14],o[e+28],o[e+42])):106==e?(n=4,r=c(o[e],o[e-14],o[e-28],o[e-42])):120==e?(n=4,r=c(o[e],o[e-16],o[e-32],o[e-48])):(n=1,r=c(o[e]));return{randomLength:n,boatAll:r}},h=m(),v=h.randomLength,b=h.boatAll};